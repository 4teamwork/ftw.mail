Changelog
=========


2.1.0 (2014-03-28)
------------------

- Remove "validate_sender" configuration setting.
  We always require the sender to be valid.
  [jone]

- Refactor inbound view so that customization and error-handling
  is easier possible.
  [jone]

- Improve searchable text to index attachments recursively.
  [jone]

- Added registry entry 'mail_domain' in upgrade step to 2000.
  [lknoepfel]

- Fix tests for Plone 4.1.x - 4.2.x by using a compatible ftw.workspace
  version.
  [mathias.leimgruber]


2.0 (2013-10-21)
----------------

- Make mail tab date parsing robust.
  [jone]

- Disable sorting in mail tab for header information columns.
  Sorting header informations does currently not work because
  the information is not in the catalog.
  When doing it outside the catalog we could run into performance
  issues when we have many mails, therefore we disable it for now.
  [jone]

- Use plone default classes for table styling.
  [Julian Infanger]

- Fixed response content-type in inbound view.
  [lknoepfel]

- Revoke "ftw.mail: Add Mail" permission.
  This permission makes the "mail" type show up in the add menu.
  Only admins (Manager) should be able to add new mails through the
  add menu, the normal use case is sending the mails via inbound.
  Also change the lawgiver hint to ingnore this permission.
  [jone]

- Add ftw.lawgiver support.
  [mathias.leimgruber]

- Add mail tab for ftw.workspace.
  [mathias.leimgruber]

- Implement mail-in as viewlet.
  [mathias.leimgruber]

- Add readme.
  [mathias.leimgruber]

- Add IEmailAddress adapter, so it's easy to change the behavior of generating
  the email address of a destination and getting the destination of a given
  email address.(Dropped the destination resolver)
  [mathias.leimgruber]

- Add uuid support and drop intid.
  [mathias.leimgruber]

- Use view.pt for mail content type's default view.
  [mathias.leimgruber]

- Ungrock the package.
  [mathias.leimgruber]

- Fix test setup for plone 4.3 and intid.
  [mathias.leimgruber]

- Add plone 4.3.x tests cfg and development.cfg.
  [mathias.leimgruber]


1.0.4 (2012-09-12)
------------------

- Set default values on all fields in the inbound mail creation.
  Issue #222 Metadaten Standort und Sprache
  https://extranet.4teamwork.ch/support/ph-vs/tracker/222/
  [philippegross]


1.0.3 (2012-06-18)
------------------

- Fixed BeautifulSoup related encoding bug when unwrapping html body.
  [lgraf]

- Fix filename encoding handling.
  [jone]


1.0.2 (2012-03-28)
------------------

- Inbound mail: Get recipient from env variable set by MTA, not from To header.
  This allows for mails with multiple recipients in the To header, and the
  Plone destination address doesn't need to be listed first anymore.
  Issue #1312 Fehler E-Mail mit mehreren Adressaten
  https://extranet.4teamwork.ch/projects/opengever-kanton-zug/sprint-backlog/1312/
  [lgraf]

- Make intids work in tests (register IIntIds utility explicitely)
  [lgraf]


1.0.1 (2012-02-24)
------------------

- Added some French translations
  [ttschanz]

1.0 (2011-11-17)
----------------

- Fixed msg getter, it works now also with mails without a subject.
  [phgross]


1.0a11 (2011-10-04)
-------------------

- Fixing long subject headers separated by \n\t before creating email.message
  object.
  [lgraf]

- Added test to test mail creation with weird characters in subject.
  [lgraf]

- Normalizing subject before using it as an ID to create a mail object.
  [lgraf]

- Changed default encoding to 'utf-8' for the safe_utf8 method.
  Should fix decoding problem in mail subjects.
  Issue #1209 Falsche Umlaute bei importierten Mails
  https://extranet.4teamwork.ch/projects/opengever-kanton-zug/sprint-backlog/1209
  [phgross]

1.0a10 (2011-09-27)
-------------------

- changed fallback encoding in the get_payload method for msg objects
  without a correct charset information. So we could fix display errors in mails
  with non-ascii characters in the mail body.
  [phgross]

- changed deprecated grok.CodeView to grok.View
  [eschmutz]

- added test-buildout for plone 4.1
  [eschmutz]


1.0a9 (2011-08-24)
------------------

- Fix tests
  [eschmutz]

- Implements Blob support, use now NamedBlobFiles instead of NamedFiles
  [phgross]

- Issue #1134 Test Gelb 2.0.3: Nicht korrekte Dateiendung beim Extrahieren eines Dokuments mit Umlaut aus Mail
  https://extranet.4teamwork.ch/projects/opengever-kanton-zug/sprint-backlog/1134/
  added fallback in the get_filename method for allready decoded filenames tuple
  [phgross]


1.0a8
-----

- Fixed message value creation: filename must be in unicode, that it
  works with the new plone.namedfile 1.0.3
  [phgross]

- Added dummy setter for `title` property so it doesn't fail with an AttributeError
  when trying to set the title of a ftw.mail.mail object.
  [lgraf]

- Added missing dependency on collective.dexteritytextindexer in setup.py
  [lgraf]

- Pinned zope.component=3.8.0 in test-plone-4.0.x.cfg to resolve version conflict
  [lgraf]


1.0a7
-----

- Added DynamicTextIndexExtender to add message body to searchableText
  [lgraf]


1.0a6
-----

- Changed minor typo in German translation.
  [phabegger]


1.0a5
-----

- According to rfc 2047, multiple encoded words are seperated by space: fixed tests.
  [jbaumann]

- Created safe_decode_header util function, which handles the encoding
  properly for get_filenames according to rfc 2047.
  This solves a test issue.
  [jbaumann]

- Added support for nested multipart emails where the attachment is within another part
  of the message.
  [jbaumann]


1.0a4
-----


1.0a3
-----

- Removed `save_attachments`: moved to `opengever.mail` since its opengever specific
  [02.11.2010, jbaumann]

- Added `remove_attachments` method
  [01.11.2010, jbaumann]

- Added test for filename encoding problem. Test still fails...
  [Thomas Buchberger]

- Moved unwrapping of attached messages into utility method. Added test.
  [Thomas Buchberger]

- Correctly restore current SecurityManger after mail creation.
  [Thomas Buchberger]

- Added tests for unknown sender
  [Thomas Buchberger]


1.0a2
-----


1.0
---

- Initial release
